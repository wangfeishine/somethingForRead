近日，需要在不同环境下试验一些中间件产品，因为没有多余的硬件，所以考虑使用虚拟机。刚开始使用VMWare，可是占用内存比较大（即使是没有启动虚拟机的时候），而且安装之后系统总是很慢，一直找不到很好的解决办法，不经意间发现原来Sun曾经收购了一个名为Virtualbox的虚拟机，而且这个产品是免费的，找来一些文章，发现评价还可以，关键是占用资源很小。

原来一直使用CentOS，于是在virtualbox下继续安装CentOS 5.4，安装之后发现总是不能安装增强功能，每次手动切换鼠标又太费事。

找来一些资料，说是某些东西没有正确安装，于是按照相关说明，依次在终端中执行下列操作：

#yum install kernel-devel
#yum install gcc
上述操作，均需要虚拟机可以正常登录互联网，因为需要下载更新内容。另外，由于在安装CentOS时，选择了所有gcc的相关的包，所以在执行第二个操作时，所有的下载内容为update操作。上述两步根据网络情况，决定执行的速度。

然后，在终端中输入以下内容：

# ln -s /usr/src/kernels/2.6.18-164.15.1.el5-i686 /usr/src/linux

其中，加粗部分，可以直接借助于“Tab”键补齐

上述所有在终端中的操作，都可以在任何位置的终端中执行，为保证安全，在执行时，所有的终端都直接使用“应用系统”--“附件”--“终端”，打开终端，定位至“root”。

由于之前已经执行了virtualbox的“设备”--“安装增强功能”，在桌面上有一个名称为：VBOXADDITIONS_3.1.6_59338的virtualbox的虚拟光驱（名称可能会根据不同的virtualbox版本而不同），双击打开，发现很多文件（在执行完上述操作之后，直接双击autorun.sh文件应该可以自动执行安装操作了）。

最后，定位至打开的文件夹，在文件夹中右键“打开终端”，在终端中录入以下内容：

#sh VBoxLinuxAdditions-x86.run

虚拟机会自动安装好增强功能，重启虚拟机，鼠标再也不用来回手工切换了！

说明：主机环境：Windows XP SP3，Virtualbox 3.1.6 r59338；虚拟机：CentOS 5.4，而且使用的是桌面环境；建立虚拟机时，选择的操作系统类型为RedHat；网络连接方式为默认的“NAT”；安装后的虚拟机只有一个root用户。

据说，“NAT”方式的网络连接方式，所有虚拟机的网络连接内容，均需要通过主机的网络进行，因此，可能会有主机与虚拟机同时访问网络时的网速较慢的问题。

另外，virtualbox网站上明明指出了支持centos的，可是在新增虚拟机时，为何不直接给出centos的选项呢？
